

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <img id="loading_img" src="https://media3.giphy.com/media/l3nWhI38IWDofyDrW/200w.webp?cid=ecf05e47etysuk5nww12m2yoq9xvfa8e5qcaqkfjjqnyuh7p&rid=200w.webp&ct=g" alt="" />
  </body>
</html>

<script>
  //https://media3.giphy.com/media/l3nWhI38IWDofyDrW/200w.webp?cid=ecf05e47etysuk5nww12m2yoq9xvfa8e5qcaqkfjjqnyuh7p&rid=200w.webp&ct=g

  //https://media0.giphy.com/media/Q81NcsY6YxK7jxnr4v/200w.webp?cid=ecf05e47du9rfrb5n1wqylpwka83yq4zksqob66dao6h9zsx&rid=200w.webp&ct=g

  //Promise

  //1. Pending state
  //2. completed
  //3. rejected

  //TIME

  // Promise() //function

  // new Promise() //constrructoir function

  // let p = new Promise(function (resolve, reject) {});

  //function
  //resolve and reject as arguments to that function

  // console.log('p:', p);

  //WE Session 1

  //when content loads after some time, we remove the image
  // we show a new image

  let image = document.getElementById('loading_img');

  function checkContent() {
    //checking content logic

    return false;
  }

  let content_promise = new Promise(function (resolve, reject) {
    //if content is loaded, resolve
    //if content is not loaded, reject

    let content = checkContent();

    setTimeout(function () {
      if (content) {
        //promise is resolved

        resolve('Content is loaded');
      } else {
        //promise is rejected

        reject('Content failed to load');
      }
    }, 5000);
  });

  //is it time to grab the promise value?
  //how - .then and .catch

  content_promise.then(function (value) {
    image.src = 'https://media0.giphy.com/media/Q81NcsY6YxK7jxnr4v/200w.webp?cid=ecf05e47du9rfrb5n1wqylpwka83yq4zksqob66dao6h9zsx&rid=200w.webp&ct=g';
  });

  content_promise.catch(function (err) {
    image.src = 'https://media0.giphy.com/media/kEtm4mSTbxvH7j3uCu/200w.webp?cid=ecf05e47zh8k86efe9ahg0hxr3vzcy7e29olzq7bo955n71m&rid=200w.webp&ct=g';
  });

  //.then 0 resolved value grab
  //.catch- grab rejected value
</script>
